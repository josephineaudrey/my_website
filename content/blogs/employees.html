---
title: 'Employee Data'
author: "Josephine Haag"
date: "2020-09-20"
output:
  html_document:
    code_folding: show
    highlight: default
    number_sections: yes
    theme: forty
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
---



<div id="ibm-hr-analytics" class="section level1">
<h1>IBM HR Analytics</h1>
<p>During my internship at an HR Tech start-up Leapsome (leapsome.com) I learned a lot about the importance of employee retention and employee satisfaction. Employee engagement and meaningful feedback, for example, are two drivers of productive employees. This data set on past and current employees at a company can give insights about what can contribute to workforce attrition. After cleaning the data set with data about around 1500 employees, I will analyze several HR data and different relationships within.</p>
<div id="employee-retention" class="section level2">
<h2>Employee Retention</h2>
<div id="how-often-do-people-leave-the-company-attrition" class="section level3">
<h3>How often do people leave the company (<code>attrition</code>)?</h3>
<pre class="r"><code>attrition_rate &lt;- filter(hr_cleaned %&gt;% 
         group_by(attrition) %&gt;% 
         summarise(n = count(attrition)) %&gt;% 
         mutate(attrition_rate = (n*100)/sum(n)), attrition == &quot;Yes&quot;) # create new column for the attrition rate %

attrition_rate </code></pre>
<pre><code>## # A tibble: 1 x 3
##   attrition     n attrition_rate
##   &lt;chr&gt;     &lt;int&gt;          &lt;dbl&gt;
## 1 Yes         237           16.1</code></pre>
<p>The attrition rate is 16.1%.</p>
<p>Next, I will investigate the job satisfaction among the employees and see if this differs by gender.</p>
<pre class="r"><code># calculate the average job satisfaction 
job_satisfaction_gender &lt;- hr_dataset %&gt;% 
  group_by(Gender) %&gt;% 
  summarize(mean_js = mean(JobSatisfaction)) 
         
job_satisfaction_gender</code></pre>
<pre><code>## # A tibble: 2 x 2
##   Gender mean_js
##   &lt;chr&gt;    &lt;dbl&gt;
## 1 Female    2.68
## 2 Male      2.76</code></pre>
<pre class="r"><code># plot average job satisfaction 
job_satisfaction_gender_plot &lt;- job_satisfaction_gender %&gt;%
  ggplot(aes(
    x = Gender, 
    y = mean_js, 
    fill = Gender)) +
  geom_col() +
  # facet_wrap(~Gender) +
  ylim(0, 5) +
  labs(
    title = &quot;Job Satisfaction by Gender&quot;, 
    y = &quot;Average Job Satisfaction&quot;) +
  theme_bw() +
  NULL

job_satisfaction_gender_plot</code></pre>
<p><img src="/blogs/employees_files/figure-html/job_satisfaction-1.png" width="648" style="display: block; margin: auto;" />
Job satisfaction seems to be slightly higher for men than for women.</p>
<p>I will continue by investigating how are job satisfaction and work-life-balance are distributed</p>
<pre class="r"><code>job_sat &lt;- hr_cleaned %&gt;% 
  group_by(job_satisfaction) %&gt;% 
  summarise(n = count(job_satisfaction)) %&gt;% 
  mutate(job_sat_perc = (n*100)/sum(n))

job_sat</code></pre>
<pre><code>## # A tibble: 4 x 3
##   job_satisfaction     n job_sat_perc
##   &lt;chr&gt;            &lt;int&gt;        &lt;dbl&gt;
## 1 High               442         30.1
## 2 Low                289         19.7
## 3 Medium             280         19.0
## 4 Very High          459         31.2</code></pre>
<pre class="r"><code>job_sat_plot &lt;- job_sat %&gt;%
  ggplot(aes(x = n, y = job_satisfaction)) +
  geom_col() +
  labs(
    title = &quot;Distribution of Job Satisfaction&quot;, 
    y = &quot;Level of Job Satisfaction&quot;) +
  theme_bw() +
  theme_bw()
  NULL</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>job_sat_plot</code></pre>
<p><img src="/blogs/employees_files/figure-html/job_sat_and_worklife_balance-1.png" width="648" style="display: block; margin: auto;" /></p>
<pre class="r"><code>work_life_balance &lt;- hr_cleaned %&gt;% 
  group_by(work_life_balance) %&gt;% 
  summarise(n = count(work_life_balance)) %&gt;% 
  mutate(work_life_perc = (n*100)/sum(n)) %&gt;% 
  arrange(desc(work_life_perc))

work_life_balance</code></pre>
<pre><code>## # A tibble: 4 x 3
##   work_life_balance     n work_life_perc
##   &lt;chr&gt;             &lt;int&gt;          &lt;dbl&gt;
## 1 Better              893          60.7 
## 2 Good                344          23.4 
## 3 Best                153          10.4 
## 4 Bad                  80           5.44</code></pre>
<p>Answer:</p>
<p><code>job_satisfaction</code> is right skewed, with around 60% of the values on the right.
<code>work_life_balance</code> seems to better resemble a normal distribution, a bit skewed to the right.</p>
<ol start="4" style="list-style-type: decimal">
<li>Is there any relationship between monthly income and education? Monthly income and gender?</li>
</ol>
<pre class="r"><code>library(hrbrthemes)
options(&quot;scipen&quot;=100, &quot;digits&quot;=4)

monthly_income_education_plot &lt;- ggplot(hr_cleaned,
   aes(
     x = education, 
     y = monthly_income 
   )) + 
  geom_col() +
  theme_minimal() +
  theme(text = element_text(size=40))+
  labs(
    title = &quot;Monthly income vs. education&quot;,
    x = &quot;Monthly income&quot;,
    y = &quot;Education&quot;
  ) +
  NULL

monthly_income_gender_plot &lt;- ggplot(hr_cleaned,
   aes(
     x = gender, 
     y = monthly_income 
   )) + 
  geom_col() +
  theme_minimal() +
  theme(text = element_text(size=30))+
  labs(
    title = &quot;Monthly income vs. gender&quot;,
    x = &quot;Monthly income&quot;,
    y = &quot;Gender&quot;
  ) +
  NULL

monthly_income_education_plot</code></pre>
<p><img src="/blogs/employees_files/figure-html/monthly_income_gender_education_plots-1.png" width="1920" style="display: block; margin: auto;" /></p>
<pre class="r"><code>monthly_income_gender_plot</code></pre>
<p><img src="/blogs/employees_files/figure-html/monthly_income_gender_education_plots-2.png" width="1920" style="display: block; margin: auto;" /></p>
<p>Answer:</p>
<ul>
<li>There is an inverted U-shaped relationship between education and monthly income. Bachelors’ income is higher than college’s and under college’s, since most of the high-payment jobs require at least bachelor’s degrees. And Bachelors’ income is also greater than masters’ and PhDs’ income, probably because given they all meet most companies’ basic education requirement, bachelors always have more working experience since they step into careers earlier.</li>
<li>Male monthly incomes are higher than female. Gender inequality is still very common in job markets.</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Plot a boxplot of income vs job role. Make sure the highest-paid job roles appear first</li>
</ol>
<pre class="r"><code>income_jobrole_boxplot &lt;- ggplot(hr_cleaned, 
       aes(
         x= reorder(job_role, -monthly_income), 
         y = monthly_income)) + 
  geom_boxplot() +
  labs(
    title = &quot;Income per job role&quot;,
    x = &quot;Job role&quot;,
    y = &quot;Income&quot;
  ) +
  theme_minimal() +
  theme(text = element_text(size=30))+
  NULL

income_jobrole_boxplot</code></pre>
<p><img src="/blogs/employees_files/figure-html/income_jobrole_boxplot-1.png" width="3840" style="display: block; margin: auto;" /></p>
<ol start="6" style="list-style-type: decimal">
<li>Calculate and plot a bar chart of the mean (or median?) income by education level.</li>
</ol>
<pre class="r"><code>Education_mean_income_bar &lt;- ggplot(hr_cleaned, aes(
    x = education, 
    y = mean(monthly_income
    ))) + 
  geom_col() +
  labs(
    title = &quot;Mean monthly income per education&quot;,
    x = &quot;Education&quot;,
    y = &quot;Mean monthly income&quot;
  ) +
  theme_minimal() +
  theme(text = element_text(size=10))+
  NULL

Education_median_income_bar &lt;- ggplot(hr_cleaned, aes(
    x = education, 
    y = median(monthly_income
    ))) + 
  geom_col() +
  labs(
    title = &quot;Median monthly income per education&quot;,
    x = &quot;Education&quot;,
    y = &quot;Median monthly income&quot;) +
  theme_minimal() +
  theme(text = element_text(size=10))+
  NULL

Education_mean_income_bar</code></pre>
<p><img src="/blogs/employees_files/figure-html/barchart_income_education-1.png" width="648" style="display: block; margin: auto;" /></p>
<pre class="r"><code>Education_median_income_bar</code></pre>
<p><img src="/blogs/employees_files/figure-html/barchart_income_education-2.png" width="648" style="display: block; margin: auto;" /></p>
<ol start="7" style="list-style-type: decimal">
<li>Plot the distribution of income by education level. Use a facet_wrap and a theme from <code>ggthemes</code></li>
</ol>
<pre class="r"><code>Monthly_income_education_distr &lt;- ggplot(hr_cleaned, aes(
    x = monthly_income
  )) + 
  geom_histogram() + 
  facet_wrap(~education,ncol=2) + 
  labs(
    title = &quot;Distribution of income by education&quot;,
    x = &quot;Education&quot;
  ) +
  theme_economist_white() +
  NULL

Monthly_income_education_distr</code></pre>
<p><img src="/blogs/employees_files/figure-html/distribution_by_education-1.png" width="960" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: decimal">
<li>Plot income vs age, faceted by <code>job_role</code></li>
</ol>
<pre class="r"><code>Income_vs_age_facet &lt;- ggplot(hr_cleaned, aes(
    x = age, 
    y = monthly_income
  )) + 
  geom_col(width = 2) + 
  facet_wrap(~job_role) +
  labs(
    title = &quot;Income vs. age by job role&quot;,
    x = &quot;Age&quot;,
    y = &quot;Monthly income&quot;
  ) +
  theme_minimal() +
  NULL

Income_vs_age_facet</code></pre>
<p><img src="/blogs/employees_files/figure-html/Income_vs_age_by_jobrole-1.png" width="648" style="display: block; margin: auto;" /></p>
</div>
</div>
</div>
